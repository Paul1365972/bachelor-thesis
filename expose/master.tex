\documentclass[a4paper,11pt]{article}

\usepackage{fontspec}
\usepackage{polyglossia}
\setdefaultlanguage{english}
\usepackage{lmodern}

\usepackage[a4paper, top=2.5cm, bottom=2.5cm, left=2.5cm, right=2.5cm]{geometry}
\usepackage{fancyhdr}
\usepackage{parskip}

\usepackage{amsmath, amssymb, amsthm, amsfonts}

\usepackage{enumitem}
\usepackage{url}
\usepackage[colorlinks=true, allcolors=black]{hyperref}
\usepackage{tabularx, multirow, colortbl}
\usepackage{graphicx}
\usepackage{pdfpages}
\usepackage[backend=bibtex, style=numeric]{biblatex}

\newcolumntype{L}{>{$}l<{$}}
\newcolumntype{C}{>{$}c<{$}}
\newcolumntype{R}{>{$}r<{$}}

\addbibresource{references.bib}

%%% Start of Document

\thispagestyle{empty}

\begin{document}

\begin{center}
    \vspace*{1cm}

    {\Huge\bfseries MCHPRS on FPGA}

    \vspace{0.5cm}

    {\Large\bfseries High-Performance Simulation of Virtual Logic Systems with Real-Time Interactive Control via FPGA-Based Hardware Acceleration}

    \vspace{1.5cm}

    {\Large\bfseries Paul C. Dötsch}

    \vspace{1.5cm}

    {\Large Exposé for a Bachelor's thesis}

    \vspace{1.5cm}

    \includegraphics[width=7cm]{fig/hhu.pdf}

    \vspace{1.0cm}

    {\large
        Computer Science \par
        Heinrich Heine University Düsseldorf, Germany \par
        \today \par
    }

    \vspace{1cm}
\end{center}

\vspace{1.0cm}

\begin{itemize}[leftmargin=3cm, labelsep=0.5em, before=\large]
    \item Supervisor: John Witulski
    \item Zweitgutachter: Jens Bendisposto
    \item Desired starting date: 31.10.2025
\end{itemize}

\clearpage

\pagestyle{plain}

\section*{1 Scientific Background and Motivation}

Minecraft's redstone system provides digital logic components analogous to real electronic circuits: redstone dust acts as wires, repeaters function as buffers with programmable delays, and redstone torches implement NOT gates.
These components enable construction of complex digital systems including ALUs, memory, and complete CPUs, making redstone Turing-complete for computation.

MCHPRS (Minecraft High-Performance Redstone Server) is a specialized server designed exclusively for computational redstone circuits.
Unlike Minecraft's inefficient block-by-block simulation that operates at 20 Hz, MCHPRS transforms redstone circuits into directed weighted graphs and applies compiler-inspired optimizations through its "Redpiler" system, achieving simulation rates of 100 kHz to 2 MHz.

Despite these improvements, MCHPRS users remain severely constrained by performance limitations that fundamentally restrict the complexity and functionality of achievable builds.
Simulation times ranging from seconds to minutes, or even hours for complex circuits, create a significant barrier to iterative development and experimentation.
This performance bottleneck forces builders to prioritize computational efficiency over functionality, leading to design compromises that limit innovation.

The single-threaded nature of current simulation particularly impacts advanced architectures: pipelined CPU designs, while theoretically superior, actually perform worse than simpler non-pipelined implementations due to increased total computation overhead.
This counter-intuitive reality constrains the redstone community to suboptimal design patterns that prioritize minimal computation over architectural sophistication.

FPGA-based acceleration could fundamentally transform this landscape.
The inherent parallelism of FPGAs would make previously impractical designs suddenly viable, allowing pipelined architectures to achieve their theoretical performance advantages.
This shift would align Minecraft redstone circuits more closely with real-world digital systems, where design constraints focus on area, latency, throughput, and algorithmic efficiency rather than total computational burden.
Such capabilities could unlock entirely new categories of complex builds and foster innovation in digital design education and experimentation.

\section*{2 Problem Statement}

The thesis will aim to develop an FPGA-based backend for MCHPRS targeting 10-100 MHz simulation rates, representing a multiple orders of magnitude improvement over current software-based simulation limits.
The primary goal is maximizing simulation throughput by compiling Redpiler's optimized graph representations to synthesizable HDL.

The research addresses three key questions:
\begin{itemize}[parsep=0.5em]
    \item How can existing Redpiler graph representations be compiled to hardware description language for FPGA implementation?
    \item How can real-time interaction capabilities (debugging, simulation inputs, state observation) be maintained for FPGA-based logic simulation?
    \item What additional redstone feature limitations are required for efficient FPGA mapping within resource constraints?
\end{itemize}

Secondary challenges include implementing controlled stepping mechanisms for debugging and determining acceptable limitations beyond MCHPRS's existing constraints to achieve practical FPGA implementation.

\section*{3 Related Work}

This work builds upon MCHPRS \cite{mchprs}, an open-source project that has demonstrated significant performance improvements through software optimization.
The Redpiler system's graph-based representation provides a foundation for hardware compilation.

Logisim Evolution \cite{logisimevolution}, a graphical circuit design and simulation tool, demonstrates the feasibility of compiling graph-based logic representations to hardware.
This tool generates VHDL from component-based designs, providing a reference for practical logic-to-hardware compilation approaches that could be adapted for MCHPRS's redstone circuits.

FPGA acceleration of CPU-based simulations has demonstrated significant speedups across various domains, particularly in areas requiring high parallelism, with FPGA systems in certain cases achieving up to 346$\times$ speedup compared to even GPU-based implementations \cite[p. 14, Table 1]{fpgaaccelsurvey}.

An existing hobby project, MCHPRS-RoC \cite{mchprsroc}, has explored redstone-to-hardware compilation over the past 8 months, targeting Cyclone V FPGAs using Intel's Quartus toolchain.
While this project demonstrates the feasibility of hardware-based redstone simulation, it remains in early development stages and imposes significant fundamental constraints beyond MCHPRS's existing limitations.
This thesis will take a different approach by targeting Xilinx FPGAs via the Vivado toolchain while preserving most of MCHPRS's current feature set and applying rigorous scientific evaluation methodologies to this domain.

\section*{4 Methodology}

The implementation will roughly follow this approach:

\textbf{HDL Compiler Development:} Transform optimized Redpiler graphs into synthesizable Verilog/VHDL, mapping redstone components to corresponding hardware logic blocks.

\textbf{Component Library Implementation:} Develop hardware models for redstone components ensuring proper timing behavior and signal propagation characteristics that match Minecraft / MCHPRS semantics.

\textbf{Host-FPGA Interface:} Create communication protocols between host software and FPGA hardware for circuit control, input stimulation, and output monitoring.
Embed debugging components into HDL generation, adding stepping controls and state observation points.

\textbf{Synthesis Integration:} Integrate synthesis workflows and FPGA programming toolchains into MCHPRS, enabling automated compilation from redstone circuits to programmed hardware.

\textbf{Evaluation:} Compare simulation performance, resource utilization, and behavioral compatibility against existing software simulation using representative redstone circuits of varying complexity.

The Synthesis Integration step will likely need to be done incrementally during the first three steps.

\section*{5 Resources}

The thesis will use a Basys 3 FPGA development board (32k logic cells) provided by the supervisor, along with the Xilinx Vivado toolchain for HDL synthesis.
While this constrains the maximum circuit complexity compared to larger FPGAs, it provides sufficient resources for proof-of-concept implementation and evaluation of the hardware acceleration approach.

\section*{6 Obstacles and Difficulties}

Key challenges include:
\begin{itemize}[parsep=0.5em]
    \item Mapping redstone timing semantics to synchronous hardware while preserving correctness
    \item FPGA resource limitations constraining implementable circuit size and complexity
    \item Real-time bidirectional communication between host software and FPGA hardware
    \item Limited prior experience with FPGA development tools and HDL synthesis workflows
\end{itemize}

\section*{7 Rough Time Schedule}

\textbf{Month 1:} Literature review, FPGA toolchain setup, and basic HDL generation for simple redstone components.

\textbf{Month 2:} Implementation of HDL compiler for complete redstone component set and timing model development.

\textbf{Month 3:} FPGA backend integration with MCHPRS, stepping system implementation, host-FPGA communication protocols, comprehensive testing and evaluation.

\section*{8 Supervision}

Weekly 30-minute meetings with supervisor to discuss progress, technical challenges, and design decisions.
Meetings to be scheduled and cancelled with 24-hour advance notice.

The supervisor will attempt to read and grade the thesis within the winter semester 2025/26, though this cannot be guaranteed.

\section*{9 Literature}

Beyond the references cited in related work, the thesis will draw upon:
\begin{itemize}[parsep=0.5em]
    \item Hardware description languages (Verilog, VHDL) and synthesis documentation
    \item Xilinx Vivado toolchain documentation
    \item MCHPRS source code and Redstone mechanics documentation
    \item Compiler design principles (e.g., "Compilers: Principles, Techniques, and Tools")
\end{itemize}

\printbibliography[title=References]

\end{document}
